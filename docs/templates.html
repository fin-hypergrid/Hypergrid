<!DOCTYPE html>

<html>
<head>
  <title>templates.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="DefaultCellProvider.html">
                DefaultCellProvider.js
              </a>
            
              
              <a class="source" href="DefaultSelectionModel.html">
                DefaultSelectionModel.js
              </a>
            
              
              <a class="source" href="Excel.html">
                Excel.js
              </a>
            
              
              <a class="source" href="OFGrid.html">
                OFGrid.js
              </a>
            
              
              <a class="source" href="OFGridRenderer.html">
                OFGridRenderer.js
              </a>
            
              
              <a class="source" href="DefaultGridBehavior.html">
                DefaultGridBehavior.js
              </a>
            
              
              <a class="source" href="InMemoryGridBehavior.html">
                InMemoryGridBehavior.js
              </a>
            
              
              <a class="source" href="QGridBehavior.html">
                QGridBehavior.js
              </a>
            
              
              <a class="source" href="constants.html">
                constants.js
              </a>
            
              
              <a class="source" href="templates.html">
                templates.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>templates.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre><span class="hljs-built_in">module</span>.exports = <span class="hljs-built_in">module</span>.exports || {};

<span class="hljs-built_in">module</span>.exports[<span class="hljs-string">"scrollbars"</span>] = <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(obj)</span> </span>{
    obj || (obj = {});
    <span class="hljs-keyword">var</span> __t, __p = <span class="hljs-string">''</span>,
        __e = _.escape;
    <span class="hljs-keyword">with</span>(obj) {
        __p += <span class="hljs-string">'&lt;!doctype html&gt;\n&lt;html&gt;\n\t&lt;head&gt;\n\n\t&lt;/head&gt;\n\t&lt;body&gt;\n\n\t\t&lt;template&gt;\n\t\t\t&lt;style&gt;\n\t\t\t\t.scroll-bar {\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop:0;\n\t\t\t\t\tbottom:0;\n                    background-color: lightgrey;\n\t\t\t\t}\n                .scroll-gutter {\n                    position: absolute;\n                    top: 0%;\n                    bottom: 0%;\n                    right: 0%;\n                    left: 0%;\n                    margin-top: 15px;\n                    margin-bottom: 35px;\n                }\n\t\t\t\t.scroll-bar.horizontal {\n\t\t\t\t\theight: 15px;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tleft:0;\n\t\t\t\t\tright: 100%;\n\t\t\t\t\ttop:100%;\n\t\t\t\t}\n\n                .horizontal .scroll-gutter {\n                    position: absolute;\n                    top: 0%;\n                    bottom: 0%;\n                    right: 0%;\n                    left: 0%;\n                    margin-top: 0px;\n                    margin-bottom: 0px;\n                    margin-left: 15px;\n                    margin-right: 35px;\n                }\n\n\t\t\t\tscroll-bar-up{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n                    left: 0;\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t\tbackground-color: darkgrey;\n\t\t\t\t}\n\n\t\t\t\t.scroll-bar.horizontal scroll-bar-up{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\ttop: 0;\n                    right: 0;\n                    left: auto;\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t\tbackground-color: darkgrey;\n\t\t\t\t}\n\n\t\t\t\tscroll-bar-thumb {\n\t\t\t\t\tbackground-color: gray;\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 20px;\n\t\t\t\t\ttop: 0;\n                    left: 0px;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t}\n\t\t\t\t.scroll-bar.horizontal scroll-bar-thumb {\n\t\t\t\t\theight: 15px;\n\t\t\t\t\twidth: 20px;\n\t\t\t\t\tleft: 0px;\n\t\t\t\t\ttop: 0;\n\t\t\t\t\tposition: absolute;\n\t\t\t\t}\n\n\t\t\t\tscroll-bar-down{\n\t\t\t\t\tposition: absolute;\n\t\t\t\t\tright: 0;\n\t\t\t\t\tbottom: 0;\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t\tbackground-color: darkgrey;\n\t\t\t\t}\n\t\t\t\t.scroll-bar.horizontal scroll-bar-down{\n\t\t\t\t\tposition: absolute;\n                    left: 0;\n\t\t\t\t\twidth: 15px;\n\t\t\t\t\theight: 15px;\n\t\t\t\t\tbackground-color: darkgrey;\n\t\t\t\t}\n\n\t\t&lt;/style&gt;\n            &lt;div class="scroll-bar"&gt;\n                &lt;scroll-bar-up&gt;&lt;/scroll-bar-up&gt;\n                        &lt;div class="scroll-gutter"&gt;\n                            &lt;scroll-bar-thumb draggable="false"&gt;&lt;/scroll-bar-thumb&gt;\n                        &lt;/div&gt;\n                &lt;scroll-bar-down&gt;&lt;/scroll-bar-down&gt;\n            &lt;/div&gt;\n\t\t&lt;/template&gt;\n\n\t\t&lt;script&gt;\n\n\n\t\t\t// Adapted form http://live.exept.de/ClassDoc/classDocOf:,RangeAdaptor\n\t\t\t// Range Adaptor is a kind of UpdateAdaptor that can be used to turn an\n\t\t\t// arbitrary number (either an Integer or a Float) into a Float normalized between\n\t\t\t// 0 and 1.\n\t\t\twindow.RangeAdapter = function(subject, userConfig){\n                var config = userConfig || {\n                    step: 1,\n                    page: 40,\n                    rangeStart: 0,\n                    rangeStop: 100\n                },\n\t\t\t\tthat = this;\n\n\t\t\t\t// this is the \'cached\' value that is listenable\n\t\t\t\tthat.valueObj = {value:null};\n\n\t\t\t\tObject.observe(subject,function(changeSet){\n\t\t\t\t\tthat.subjectChanged();\n\t\t\t\t});\n\n                that.subjectChanged = function() {\n                    that.valueObj = that.computeNormalizedValue();\n                }\n\n\t\t\t\tthat.grid = function(value){\n\t\t\t\t\tif (value === undefined) {\n\t\t\t\t\t\treturn grid;\n\t\t\t\t\t}\n\t\t\t\t\tgrid = value;\n\t\t\t\t};\n\n\t\t\t\tthat.rangeStart = function(value){\n\t\t\t\t\tif(value === undefined){\n\t\t\t\t\t\treturn rangeStart;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthat.rangeStop = function(value){\n\t\t\t\t\tif (value === undefined){\n\t\t\t\t\t\treturn rangeStop;\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\t// @param value is a number\n\t\t\t\tthat.setValue = function(newValue){\n\t\t\t\t\tif (!typeof value === \'number\'){\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n                    var deNormalized = Math.floor((newValue * (config.rangeStop - config.rangeStart)) + config.rangeStart);\n\t\t\t\t\tsubject.setValue(deNormalized);\n\t\t\t\t};\n                that.computeNormalizedValue = function() {\n                    value = (subject.getValue() - config.rangeStart) / (config.rangeStop - config.rangeStart);\n                    return value;\n                };\n\n\t\t\t\tthat.getValue = function(){\n\t\t\t\t\treturn valueObj.value;\n\t\t\t\t};\n\n\t\t\t};\n\n\n\n\t\t\t//register the scrollbar elements\n\t\t\t(function(){\n\n\t\t\t\tvar importDoc = document.currentScript.ownerDocument;\n\n\t\t\t\t// An instance of his will become the prototype for the custom scroll-bar\n\t\t\t\t// element\n\t\t\t\tvar ScrollBar = function(){\n\t\t\t\t};\n\n\t\t\t\tScrollBar.prototype = Object.create(HTMLElement.prototype);\n\n                ScrollBar.prototype.RangeAdapter = RangeAdapter;\n\n\t\t\t\tScrollBar.prototype.setRangeAdapter = function(rangeAdapter) {\n\t\t\t\t\tvar that = this;\n\n\t\t\t\t\tthat.rangeAdapter = rangeAdapter;\n                    if (that.thumb) {\n                        that.thumb.rangeAdapter = rangeAdapter;\n                    }\n\t\t\t\t\tObject.observe(rangeAdapter.valueObj, function(change){\n\t\t\t\t\t\tthat.thumb.moveToPercent(change[0].object.value)\n\t\t\t\t\t});\n\n\n\t\t\t\t};\n\n\t\t\t\t// the createdCallback method will be called by the native code\n\t\t\t\tScrollBar.prototype.attachedCallback = function() {\n\t\t\t\t\tvar scrollbarTemplate = importDoc.querySelector(\'template\'),\n\t\t\t\t\t\t\tscrollBarImportClone = document.importNode(scrollbarTemplate.content,true),\n\t\t\t\t\t\t\tscrollbarShadowRoot = this.createShadowRoot();\n\n\t\t\t\t\tscrollbarShadowRoot.appendChild(scrollBarImportClone);\n\n\t\t\t\t\t// get the actionable child elements\n\t\t\t\t\tthis.bar = scrollbarShadowRoot.querySelector(\'.scroll-bar\');\n\t\t\t\t\tthis.thumb = scrollbarShadowRoot.querySelector(\'scroll-bar-thumb\');\n                    this.thumb.rangeAdapter = this.rangeAdapter;\n\t\t\t\t\tthis.btnUp = scrollbarShadowRoot.querySelector(\'scroll-bar-up\');\n\t\t\t\t\tthis.btnDown = scrollbarShadowRoot.querySelector(\'scroll-bar-down\');\n\n\t\t\t\t\tthis.configureOrientation();\n\t\t\t\t};\n\n\t\t\t\tScrollBar.prototype.configureOrientation = function() {\n\t\t\t\t\tvar orientation = \'y\';\n\n\t\t\t\t\tif (\'horizontal\' in this.attributes){\n\t\t\t\t\t\torientation = \'x\';\n\t\t\t\t\t\tthis.bar.classList.add(\'horizontal\');\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.thumb.setOrientation(orientation);\n\t\t\t\t};\n                ScrollBar.prototype.tickle = function() {\n                    this.rangeAdapter.setValue(this.thumb.lastPercent);\n                }\n\n\n\t\t\t\t// we only talk value models now\n\n\t\t\t\t// ScrollBar.prototype.registerScrollMoveCallback = function(callback) {\n\t\t\t\t// \tvar that = this;\n\n\t\t\t\t// \tthis.thumb.registerScrollMoveCallback(function(move) {\n\n\t\t\t\t// \t\tcallback(move);\n\t\t\t\t// \t})\n\t\t\t\t// };\n\n\t\t\t\tvar scrollBarUpProto = Object.create(HTMLElement.prototype, {});\n\n\t\t\t\tvar scrollBarThumbProto = Object.create(HTMLElement.prototype, {\n\t\t\t\t\tcreatedCallback : {\n\t\t\t\t\t\tvalue : function(event){\n\t\t\t\t\t\t\tvar that = this;\n                            var bounds = that.getBoundingClientRect();\n\t\t\t\t\t\t\tthat.isScrolling = false;\n\n\t\t\t\t\t\t\tthis.addEventListener(\'mousedown\',function(event){\n\t\t\t\t\t\t\t\tthat.isScrolling = true;\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdocument.addEventListener(\'mousemove\',function(event){\n\t\t\t\t\t\t\t\tif (that.isScrolling) {\n\t\t\t\t\t\t\t\t\tvar location = event[that.orientation] - bounds.top - 35;\n\n\t\t\t\t\t\t\t\t\tthat.moveThumb(location);\n\t\t\t\t\t\t\t\t }\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tdocument.addEventListener(\'mouseup\',function(event){\n\t\t\t\t\t\t\t\tif(that.isScrolling) {\n\t\t\t\t\t\t\t\t\tthat.isScrolling = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tmoveThumb: {\n\t\t\t\t\t\tvalue: function(location){\n\n\t\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\t\trange =  that.getMaxScroll();\n\n\t\t\t\t\t\t\t//keep the scrolling in range\n\t\t\t\t\t\t\tlocation = (location ) &lt; 0 ? 0 : location;\n\t\t\t\t\t\t\tlocation = (location ) &gt; range ? range : location;\n\n                            var percent = location / that.getMaxScroll();\n                            this.lastPercent = percent;\n\n                            var direction = this.orientation === \'y\' ? \'top\' : \'left\'\n\n\t\t\t\t\t\t\trequestAnimationFrame(function(){\n\t\t\t\t\t\t\t\tvar axis = that.orientation.toUpperCase();\n\t\t\t\t\t\t\t\t//that.style.webkitTransform = \'translate\'+axis+\'(\'+ location +\'px)\';\n\n                                that.style[direction] = (100 * percent) + \'%\';\n\n\t\t\t\t\t\t\t});\n\n                            if (that.rangeAdapter){\n                                that.rangeAdapter.setValue(percent);\n                            }\n\t\t\t\t\t\t}//end movethumb value\n\t\t\t\t\t},\n\t\t\t\t\tmoveToPercent: {\n\t\t\t\t\t\tvalue: function(percent){\n\t\t\t\t\t\t\t// if already dragging, dont respect the observable value sets\n\t\t\t\t\t\t\tif (!that.isScrolling) {\n\t\t\t\t\t\t\t\tthis.moveThumb(percent * this.getMaxScroll());\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgetLocation: {\n\t\t\t\t\t\tvalue: function(){\n\t\t\t\t\t\t\treturn 0 / that.getMaxScroll() * 100;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t// we only talk value models here now\n\t\t\t\t\t// registerScrollMoveCallback: {\n\t\t\t\t\t// \tvalue: function(callback){\n\t\t\t\t\t// \t\tthis.scrollMoveCallback = callback;\n\t\t\t\t\t// \t}\n\t\t\t\t\t// },\n\t\t\t\t\tsetValueUpdatedCallback: {\n\t\t\t\t\t\tvalue: function(callback){\n\t\t\t\t\t\t\tthis.valueUpdatedCallback = callback;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tsetOrientation : {\n\t\t\t\t\t\tvalue: function(orientation){\n\t\t\t\t\t\t\tconsole.log(\'this is the orientation\', orientation);\n\t\t\t\t\t\t\tthis.orientation = orientation;\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\tgetMaxScroll :{\n\t\t\t\t\t\tvalue: function(){\n\t\t\t\t\t\t\tvar direction = this.orientation === \'y\' ? \'clientHeight\' : \'clientWidth\'\n\t\t\t\t\t\t\treturn this.parentNode[direction];\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n                scrollBarThumbProto.lastPercent = 0.0;\n\n\t\t\t\tvar scrollBarDownProto = Object.create(HTMLElement.prototype, {});\n\n\t\t\t\tdocument.registerElement(\'scroll-bar-up\', {\n\t\t\t\t\tprototype: scrollBarUpProto\n\t\t\t\t});\n\t\t\t\tdocument.registerElement(\'scroll-bar-thumb\', {\n\t\t\t\t\tprototype: scrollBarThumbProto\n\t\t\t\t});\n\t\t\t\tdocument.registerElement(\'scroll-bar-down\', {\n\t\t\t\t\tprototype: scrollBarDownProto\n\t\t\t\t});\n\t\t\t\tdocument.registerElement(\'scroll-bar\', {\n\t\t\t\t\tprototype: new ScrollBar()\n\t\t\t\t});\n\t\t\t})()\n\n\t\t&lt;/script&gt;\n\t&lt;/body&gt;\n&lt;/html&gt;\n'</span>;

    }
    <span class="hljs-keyword">return</span> __p
};</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
